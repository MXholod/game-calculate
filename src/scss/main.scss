@use 'variables' as variables;
@use 'mixins';

*{ 
	margin: 0; 
	padding: 0;
}
html, body{
	@include mixins.custom-font("Eox2", Exo2-Regular);
	font-size: calc(1vw + 0.6em);
	box-sizing: border-box;
	font-family: "Eox2";
	color: var(--font-color, #000);
	height:100%;
}
.wrapper{
	background-color: variables.$main-background;
	min-height:100%;
	display:flex;
	flex-direction:column;
	.header{
		flex-shrink: 0;
		h1{
			@include mixins.custom-font("Mistral", Mistral);
			font-family: "Mistral";
			text-align: center;
		}
		nav{
			ul{
				list-style-type:none;
				display: flex;
				justify-content: center;
				li{
					margin-left:2em;
					a{
						font-size: .7em;
						text-decoration: none;
						font-weight: 600;
					}
				}
			}
		}
	}
	.content{
		flex: 1 0 auto;
		max-width: 1200px;
		width: 100%;
		border: 1px solid #000;
		margin: 0 auto;
		display: flex;
		position: relative;
		overflow: hidden;
		&::before{
			content: "Game over";
			text-align: center;
			padding-top: 5%;
			display: var(--game-message, none);
			width: 40%;
			height: 20%;
			position: absolute;
			top: 0%;
			left: 30%;
			background-color: pink;
			border: 1px solid #000;
			z-index: 2;
		}
		.content__game{
			background-color: var(--game-bg);
			position: relative;
			flex-basis: 60%;
			display:flex;
			justify-content: center;
			align-items: center;
			overflow: hidden;
			.content__level-board{
				position:absolute;
				z-index: 1;
				top: -30%;
				left: 10%;
				width: 80%;
				height: 40%;
				color: #fff; /*var(--font-color);*/
				display: flex;
				flex-direction: column;
				align-items: center;
				border:3px solid #fff;
				box-sizing: border-box;
			}
			@include mixins.level-board('content__level-board-show', true);
			@include mixins.level-board('content__level-board-hide', false);
			.content__main-square{
				background-image: linear-gradient(to top, var(--game-cube-bg-bottom) 5%, var(--game-cube-bg-top) 45%);
				display: flex;
				justify-content: center;
				align-items: center;
				position: relative;
				perspective: 500px;
				width: 80%;
				height: 80%;
				border: 1px solid #000;
				@include mixins.square-3d-scale(8s,1);
			}
		}
		.content__user-interaction{
			background-color: var(--user-inter-bg);
			flex-basis: 40%;
			%widget-part{
				padding: 5px;
				border: 3px solid #7da6f3;
				margin: 2%;
				background-image: linear-gradient(to left bottom, #a3a3e5, #e1a9b2);
			}
			.widget-game-timer{
				@extend %widget-part;
				background-image: linear-gradient(#7c7c9d, #add9e3);
				display: flex;
				flex-direction: column;
				align-items: center;
				h2{
					color: darken(#4e4e7e, 10%);
					font-size: 1em;
				}
				.widget-game-timer__info{
					display: flex;
					justify-content: space-between;
					width:100%;
					box-sizing: border-box;
					padding: 0 10% 0 10%;
				}
			}
			.widget-game-initial-numbers{
				@extend %widget-part;
				&__title{
					color:#fff;
					font-size: .6em;
					margin-bottom:1%;
					span:not(span:first-child){
						margin-left:1%;
					}
					.widget-game-initial-numbers__radios{
						display:flex;
						justify-content:space-around;
						margin-bottom:2%;
						label{
							color: #1c1313;
							width:20%;
							input[type='radio']{
								margin:2% 0 0 10%;
							}
						}
					}
				}
				&__range{
					color:#fff;
					font-size: .6em;
					span{
						display: block;
					}
					& > span:first-child{
						display:block;
					}
					@include mixins.input-range-slider(".widget-game-initial-numbers__sliders");
					.widget-game-initial-numbers__random{
						margin-top: 5px;
						border-top: 3px solid #d5d5d5;
						& > span{
							font-weight: bold;
						}
						& > div{
							display: flex;
							justify-content: space-between;
							& > input[type='number']{
								padding-left: 3px;
								&:focus{
									outline:none;
								}
							}
							& > input[type='button']{
								border-radius:3px;
								padding: 2px 4px;
								background-image: linear-gradient(180deg, var(--game-cube-bg-top), var(--game-cube-bg-bottom));
								&:hover, &:active{
									cursor:pointer;
									background-image: linear-gradient(180deg, var(--game-cube-bg-bottom), var(--game-cube-bg-top));
									box-shadow: 0px 0px 2px #000;
								}
							}
						}
					}
				}
			}
			.widget-game-current-amount{
				@keyframes changing-colors{
					0%{ background-color: #B81CEB; }
					25%{ background-color: #D53BEB; }
					50%{ background-color: #B14DEB; }
					75%{ background-color: #D161EB; }
					100%{ background-color: #B784EB; }
				}
				@extend %widget-part;
				display: flex;
				color:#fff;
				&__user-res, &__cpu-res{
					font-size: .8em;
					display: flex;
					flex-direction: column;
				}
				&__user-res{
					flex-basis: 60%;
					span:first-child{
						font-size:.8em;
						padding-bottom:4px;
					}
					label{
						width:50%;
						padding-left:10%;
						margin-left:10%;
						background-color:#efefef;
						position:relative;
						&:before{
							content: "Enter your result";
							display:var(--userAmount, none);
							position:absolute;
							top:-25px;
							left:0;
							width:100%;
							height:25px;
							background-color:purple;
							font-size:.7em;
							text-align:center;
							animation: changing-colors linear 3s infinite alternate forwards;
						}
						input{
							height:20px;
							display:block;
							border:none;
							outline:none;
							background-color:#efefef;
						}
					}
					.widget-game-current-amount__approve{
						background-color:#fff;
						align-self: flex-start;
						flex-basis:30%;
						font-size:.6em;
						padding: 2px 4px;
						margin: 1% 0 0 16%;
						border: 1px solid #000;
						transition: background-color 1s linear 0s;
						&:hover, &:active{
							background-color:#d385ed;
							cursor:pointer;
						}
					}
				}
				&__vs{
					align-self:center;
					margin-left:-40px;
				}
				&__cpu-res{
					flex-basis: 40%;
					margin-left:40px;
					span:first-child{
						font-size:.8em;
						padding-bottom:4px;
					}
					label{
						width:70%;
						padding-left:10%;
						background-color:#efefef;
						input{
							display:block;
							height:20px;
							border:none;
							outline:none;
						}
					}
				}
				.highlight-user{
					box-shadow: 0px 0px 6px #000;
					border: 1px solid #000;
				}
				.highlight-cpu{
					box-shadow: 0px 0px 6px #000;
					border: 1px solid #000;
				}
			}
			.widget-game-statistics{
				@extend %widget-part;
				color:#fff;
				&__title{
					font-size: .8em;
					display: flex;
					justify-content: space-between;
					& div:last-child{
						margin-right:5%;
						span{
							font-size: .8em;
							padding-right: 10px;
						}
						input{
							text-align: center;
						}
					}
				}
				button#openStatistics{
					border-radius:3px;
					padding: 2px 4px;
					background-image: linear-gradient(90deg, var(--game-cube-bg-top), var(--game-cube-bg-bottom));
					&:focus{
						outline:none;
					}
					&:hover, &:active{
						cursor:pointer;
						background-image: linear-gradient(270deg, var(--game-cube-bg-top), var(--game-cube-bg-bottom));
						box-shadow: 0px 0px 2px #000;
					}
					&:disabled{
						color: #747171;
						cursor:not-allowed;
						box-shadow: none;
					}
				}
				&__block{
					font-size: .6em;
					& span:first-child{
						padding-bottom: 3px;
						display: inline-block;
					}
					.widget-game-statistics__table{
						font-size: .9em;
						.widget-game-statistics__table-header{
							display: flex;
							flex-direction: row;
							justify-content: space-between;
							background-color: darken(#939185, 10%);
							text-align: center;
							span:nth-child(1){
								width: 10%;
								border-left: 1px solid #fff;
								border-right: 1px solid #fff;
							}
							span:nth-child(2){
								width: 20%;
								border-right: 1px solid #fff;
							}
							span:nth-child(3){
								width: 28%;
								border-right: 1px solid #fff;
							}
							span:nth-child(4){
								width: 28%;
								border-right: 1px solid #fff;
							}
							span:nth-child(5){
								width: 14%;
								border-right: 1px solid #fff;
							}
						}
						.widget-game-statistics__row{
							display: flex;
							flex-direction: row;
							justify-content: space-between;
							border-bottom: 1px solid #fff;
							background-color: #B7B597;
							text-align: center;
							.widget-game-statistics__level{
								width: 10%;
								border-left: 1px solid #fff;
								border-right: 1px solid #fff;
							}
							.widget-game-statistics__level-time{
								width: 20%;
								border-right: 1px solid #fff;
							}
							.widget-game-statistics__user-res{
								width: 28%;
								border-right: 1px solid #fff;
							}
							.widget-game-statistics__cpu-res{
								width: 28%;
								border-right: 1px solid #fff;
							}
							.widget-game-statistics__is-success{
								width: 14%;
								border-right: 1px solid #fff;
							}
						}
					}
				}
				
			}
			.widget-game-on-off{
				@extend %widget-part;
				display: flex;
				flex-direction: column;
				&__title{
					color:#fff;
					font-size: .8em;
				}
				&__buttons{
					display: flex;
					justify-content: space-between;
					margin-top: 2%;
					#play{
						@include mixins.game-button(var(--game-start), var(--game-start-end));
					}
					#stop{
						@include mixins.game-button(var(--game-stop), var(--game-stop-end));
					}
					#retry{
						@include mixins.game-button(var(--game-retry), var(--game-retry-end));
					}
				}
			}
		}
	}
	/* Page of the game guide and result */
	.guide-result{
		background: url("./../assets/images/result-guide-navigation.jpg") top left/cover no-repeat;
		flex-direction: column;
		.content__navigation{
			border-bottom: 3px solid #FB773C;
			height: 10vh;
			padding-left:5%;
			%button-base{
				font-size: .8em;
				border: 3px solid #FB773C;
				border-bottom: none;
				cursor: pointer;
				&:hover, &:active{
					border-bottom: none;
				}
			}
			.content__navigation_result{
				height:70%;
				padding:0 2%;
				margin:1.9% 0 0 0;
				background-color: #FFB22C;
				@extend %button-base;
				
			}
			.content__navigation_guide{
				height:70%;
				padding:0 2%;
				margin:1.9% 0 0 1%;
				font-size: .8em;
				background-color: #FFDE4D;
				@extend %button-base;
			}
		}
		.content__panels{
			position:relative;
			overflow:hidden;
			width: 1200px;
			height:70vh;
			.content__result{
				position:absolute;
				background-color: #FFB22C;
				top:0;
				left:0;
				right:0;
				bottom:0;
				z-index:0;
			}
			.content__guide{
				position:absolute;
				background-color: #FFDE4D;
				top:0;
				left:0;
				right:0;
				bottom:0;
				z-index:0;
			}
		}
	}
	.footer{
		flex-shrink: 0;
		font-size: .7em;
		text-align: center;
	}
}
